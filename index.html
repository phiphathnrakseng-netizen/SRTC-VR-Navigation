<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>SRTC VR Virtual | แผนผังและตึก 3D</title>
    
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="theme-color" content="#4f46e5"> 
    
    <link rel="manifest" href="/manifest.json">
    
    <link rel="apple-touch-icon" href="/assets/icons/icon-192x192.png">
    
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcode.js/1.0.0/qrcode.min.js"></script>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/aframe/1.4.2/aframe.min.js"></script>

    <link href="https://fonts.googleapis.com/css2?family=Kanit:wght@300;400;600;700&display=swap" rel="stylesheet">
    <style>
        /* กำหนดฟอนต์หลักให้เป็น Kanit (ไม่มีหัว) */
        * {
            font-family: 'Kanit', sans-serif;
            /* ปรับกล่องโมเดลให้คำนวณจากขอบเขตเนื้อหาทั้งหมด (รวม padding/border) */
            box-sizing: border-box; 
        }
        
        /* 1. แก้ไขให้ html และ body เต็มจอ 100% และกำจัด Margin/Padding เริ่มต้น */
        html, body {
            height: 100%;
            width: 100%;
            margin: 0;
            padding: 0;
            overflow: auto; /* ควบคุม Scrollbar หลัก */
            /* ป้องกันการเลื่อนแนวนอนทั้งหมด */
            overflow-x: hidden; 
        }

        /* 2. การจัดการพื้นที่ปลอดภัย (Safe Area) สำหรับมือถือที่มีรอยบาก (Notch) */
        /* ทำให้ body ยืดเต็มจอ (100vh) โดยไม่คำนึงถึงแถบเบราว์เซอร์ */
        body {
            min-height: 100vh; /* มั่นใจว่าอย่างน้อยเต็มความสูงหน้าจอ */
            /* ใช้ vh เต็มที่สำหรับมือถือ (อาจมีปัญหาใน Chrome บน Android ให้ลองเปลี่ยนเป็น height: 100% ถ้า vh มีปัญหา) */
            /* background-color: #f0f0f0; /* สีพื้นหลัง */
        }
        
        /* 3. สำหรับ Tailwind CSS Flexbox: ให้ #main-content ยืดเต็มพื้นที่ที่เหลืออยู่เสมอ */
        #main-content {
            /* flex-grow: 1 ถูกกำหนดในโค้ดเดิมแล้ว */
            /* เพิ่มความสูงแบบเต็มจอ: ใช้เพื่อควบคุมการครอบคลุมพื้นที่ทั้งหมดของหน้าจอ */
            min-height: 100%; 
        }

        /* กำหนดให้ A-Frame scene เต็มพื้นที่ใน modal */
        #aframe-scene-container {
            width: 100%;
            /* เพิ่มความสูงให้ 3D ดูดีขึ้นใน Modal */
            height: 450px; 
            background-color: #f0f0f0; 
            /* เปลี่ยนความโค้งมน */
            border-radius: 1.5rem; /* rounded-3xl */
            overflow: hidden;
        }
        /* ปรับปรุงความโค้งมนทั่วไปที่ใช้บ่อย */
        .rounded-3xl {
            border-radius: 1.5rem; /* 24px */
        }
        
        /* 4. [ตัวเลือกเสริม] การจัดการพื้นที่ "notch" (สำหรับ iOS) */
        /* ใช้ env() เพื่อปรับ Header และ Footer ให้ไม่ถูกบังโดย Safe Area */
        /* อย่างไรก็ตาม ในโค้ดนี้ Header ถูกกำหนดเป็น sticky top-0 ซึ่งอาจจะต้องใช้ padding เพิ่มเติมหากต้องการให้เนื้อหาไม่ทับแถบสถานะ */
        /* หากต้องการให้เนื้อหาเริ่มต้นใต้แถบสถานะ ให้เพิ่ม padding-top ใน body หรือ main-content ดังนี้: */
        /*
        #main-content {
             padding-top: constant(safe-area-inset-top);
             padding-top: env(safe-area-inset-top);
        }
        */
        
        /* หากต้องการให้ Header อยู่ใน Safe Area เท่านั้น (ไม่ให้เนื้อหาถูกบังแถบสถานะ) */
        /*
        header {
             padding-top: constant(safe-area-inset-top);
             padding-top: env(safe-area-inset-top);
        }
        */
        
        /* หากต้องการให้ Footer อยู่เหนือ Home Indicator (ไม่ถูกบังแถบ Home Indicator) */
        footer {
             padding-bottom: constant(safe-area-inset-bottom);
             padding-bottom: env(safe-area-inset-bottom);
        }
        
    </style>
</head>
<body class="bg-gray-100 antialiased flex flex-col">

// ... (โค้ดส่วนอื่นๆ ยังคงเดิม)
