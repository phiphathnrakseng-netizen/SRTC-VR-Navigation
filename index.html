<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>SRTC VR Navigation - AR Camera PWA</title>
    
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="theme-color" content="#3730A3"> <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcode.js/1.0.0/qrcode.min.js"></script>
    
    <link href="https://fonts.googleapis.com/css2?family=Kanit:wght@300;400;600;700&display=swap" rel="stylesheet">
    <style>
        /* กำหนดฟอนต์หลักและให้องค์ประกอบใช้ขอบมน */
        * {
            font-family: 'Kanit', sans-serif;
        }
        .rounded-xl {
            border-radius: 0.75rem;
        }
        /* แก้ไขเพื่อให้ body และ container หลักครอบคลุมเต็มจอเสมอ */
        html, body {
            height: 100%; /* สำคัญสำหรับการแสดงผลเต็มจอ */
            margin: 0;
            overflow-x: hidden; /* ป้องกันการเลื่อนแนวนอน */
        }
        /* .min-h-screen ถูกแทนที่ด้วย h-full ใน div หลัก */
    </style>
</head>
<body class="bg-gray-50 h-full antialiased flex flex-col">

<div id="home-section" class="flex flex-col flex-grow">
    <header class="bg-indigo-900 shadow-lg sticky top-0 z-10">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 flex justify-between items-center">
            
            <div class="flex items-center space-x-3">
                <img src="https://upload.wikimedia.org/wikipedia/th/a/a2/Suratthani_Technical_College_Logo.png" alt="SRTC Logo" class="h-8 w-8 sm:h-10 sm:w-10">
                <h1 class="text-xl sm:text-2xl font-bold text-white tracking-wide">SRTC VR Navigation</h1>
            </div>
            data:image/jpeg;base64,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
            <nav class="space-x-2 sm:space-x-4 flex items-center">
                <a href="#" class="text-white hover:text-indigo-200 transition duration-150 hidden lg:inline-block">หน้าแรก</a>
                <a href="#" class="text-white hover:text-indigo-200 transition duration-150 hidden lg:inline-block">แผนผัง</a>
                
                <button onclick="showModal('install-qr-modal')" class="bg-yellow-400 hover:bg-yellow-500 text-gray-900 font-semibold py-2 px-3 sm:px-4 rounded-full shadow-md flex items-center space-x-2 transform transition duration-200 hover:scale-105">
                    <i data-lucide="qr-code" class="w-4 h-4 sm:w-5 sm:h-5"></i>
                    <span class="text-xs sm:text-sm hidden sm:inline">QR Code</span>
                </button>

                <button onclick="showModal('install-qr-modal')" class="bg-blue-500 hover:bg-blue-600 text-white font-semibold py-2 px-3 sm:px-4 rounded-full shadow-md flex items-center space-x-2 transform transition duration-200 hover:scale-105">
                    <i data-lucide="smartphone" class="w-4 h-4 sm:w-5 sm:h-5"></i>
                    <span class="text-xs sm:text-sm hidden sm:inline">ติดตั้ง App</span>
                </button>

                <button onclick="toggleVRMode()" class="bg-green-500 hover:bg-green-600 text-white font-semibold py-2 px-3 sm:px-4 rounded-full shadow-md flex items-center space-x-2 transform transition duration-200 hover:scale-105">
                    <i data-lucide="scan" class="w-4 h-4 sm:w-5 sm:h-5"></i>
                    <span class="text-xs sm:text-sm">VR (AR)</span>
                </button>
            </nav>
        </div>
    </header>

    <section class="relative flex-grow flex items-center justify-center text-center overflow-hidden h-[70vh] lg:h-[80vh] min-h-[400px]">
        <img 
            src="https://console.kr-asia.com/wp-content/uploads/2023/06/medium-shot-man-wearing-vr-glasses-scaled.jpg" 
            alt="Man wearing VR glasses background" 
            class="absolute inset-0 h-full w-full object-cover"
        >
        <div class="absolute inset-0 bg-indigo-900/70"></div>
        
        <div class="relative z-10 max-w-xl p-6">
            <h2 class="text-4xl sm:text-5xl font-extrabold text-white mb-4 leading-tight">ค้นหาและนำทางห้องเรียนอัจฉริยะ</h2>
            <p class="text-xl text-indigo-200 mb-8">สัมผัสประสบการณ์นำทางแบบ AR/VR ที่รวดเร็วและแม่นยำ</p>
            
            <div class="flex rounded-full shadow-2xl overflow-hidden">
                <input type="text" placeholder="ค้นหาห้องเรียน เช่น 201, ห้องปฏิบัติการคอมพิวเตอร์" class="w-full py-3 px-6 text-gray-800 focus:outline-none focus:ring-2 focus:ring-indigo-500 transition duration-150" aria-label="Search">
                <button class="bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-3 px-6 transition duration-150 flex items-center space-x-2">
                    <i data-lucide="search" class="w-5 h-5"></i>
                    <span class="hidden sm:inline">ค้นหา</span>
                </button>
            </div>
        </div>
    </section>

    <footer class="bg-gray-800 text-white py-4 mt-auto">
        <div class="text-center text-sm">
            © 2025 วิทยาลัยเทคนิคสุราษฎร์ธานี - ระบบ VR Navigation
        </div>
    </footer>
</div>

<div id="install-qr-modal" class="hidden fixed inset-0 bg-gray-900 bg-opacity-75 z-50 flex items-center justify-center p-4">
    <div class="bg-white rounded-xl shadow-2xl max-w-lg w-full p-6 sm:p-8">
        <div class="flex justify-between items-start mb-4">
            <h3 class="text-2xl font-bold text-indigo-700 flex items-center">
                <i data-lucide="download-cloud" class="w-6 h-6 mr-2"></i>
                ติดตั้งแอปพลิเคชัน / สแกน QR Code
            </h3>
            <button onclick="hideModal('install-qr-modal')" class="text-gray-400 hover:text-gray-600 transition">
                <i data-lucide="x" class="w-6 h-6"></i>
            </button>
        </div>
        
        <p class="text-gray-600 mb-6">คุณสามารถติดตั้งแอปพลิเคชันนี้บนมือถือของคุณได้ด้วยวิธีใดวิธีหนึ่งด้านล่างนี้:</p>

        <div class="bg-indigo-50 p-6 rounded-lg mb-6 flex flex-col items-center border border-indigo-200">
            <h4 class="font-semibold text-xl text-indigo-800 mb-3 flex items-center">
                <i data-lucide="scan" class="w-5 h-5 mr-2"></i>
                สแกน QR Code สำหรับลิงก์เว็บไซต์
            </h4>
            <div id="qrcode-display" class="my-4 p-4 bg-white rounded-lg shadow-inner inline-block">
                <div class="text-gray-500 text-sm">กำลังสร้าง QR Code...</div>
            </div>
            
            <button id="qr-download-btn" onclick="downloadQRCode()" class="mt-4 bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-2 px-4 rounded-full transition duration-150 shadow-md">
                <i data-lucide="download" class="inline w-5 h-5 mr-1"></i>
                ดาวน์โหลด QR Code (PNG)
            </button>
        </div>

        <h4 class="font-semibold text-xl text-indigo-700 mb-4 flex items-center">
            <i data-lucide="smartphone" class="w-5 h-5 mr-2"></i>
            คำแนะนำการติดตั้ง PWA
        </h4>
        <div class="space-y-4">
            <div class="bg-gray-100 p-4 rounded-lg border-l-4 border-indigo-500">
                <h5 class="font-semibold text-lg text-indigo-700 mb-2">สำหรับ iPhone (iOS)</h5>
                <ol class="list-decimal list-inside text-gray-700 space-y-1">
                    <li>เปิดเว็บไซต์ด้วยเบราว์เซอร์ **Safari**</li>
                    <li>แตะที่ **ปุ่มแชร์** (<i data-lucide="share" class="inline w-4 h-4 text-indigo-500"></i>) ที่อยู่ด้านล่างของหน้าจอ</li>
                    <li>เลื่อนลงและเลือก **เพิ่มไปยังหน้าจอโฮม** (Add to Home Screen)</li>
                </ol>
            </div>

            <div class="bg-gray-100 p-4 rounded-lg border-l-4 border-green-500">
                <h5 class="font-semibold text-lg text-green-700 mb-2">สำหรับ Android</h5>
                <ol class="list-decimal list-inside text-gray-700 space-y-1">
                    <li>เปิดเว็บไซต์ด้วยเบราว์เซอร์ **Chrome**</li>
                    <li>แตะที่ **ปุ่มเมนู** (จุดสามจุด) ที่มุมขวาบน</li>
                    <li>เลือก **ติดตั้งแอป** หรือ **เพิ่มไปยังหน้าจอหลัก** (Install app / Add to Home screen)</li>
                </ol>
            </div>
        </div>
    </div>
</div>

<div id="vr-container" class="hidden fixed inset-0 z-50 bg-black flex flex-col items-center justify-center w-screen h-screen">
    <video id="camera-feed" class="w-full h-full object-cover absolute inset-0" playsinline autoplay muted></video>
    
    <div class="relative z-10 w-full h-full p-4 flex flex-col justify-between items-center pointer-events-none">
        <div id="ar-message" class="bg-yellow-400 text-gray-900 font-bold p-3 rounded-xl shadow-xl text-center transition-opacity duration-500 opacity-0 pointer-events-auto">
            <p>กำลังค้นหาตำแหน่งของคุณ...</p>
        </div>

        <div class="flex flex-col items-center mt-auto mb-16 text-white text-center">
            <i id="ar-arrow" data-lucide="arrow-up" class="w-16 h-16 mb-2 animate-bounce drop-shadow-lg text-green-400"></i>
            <p id="ar-destination" class="text-3xl font-extrabold drop-shadow-lg bg-black/50 p-2 rounded-lg">มุ่งหน้าไปยัง: ห้อง 305 (ระยะทาง 15 ม.)</p>
        </div>
    </div>
    
    <button onclick="toggleVRMode()" class="absolute top-4 right-4 z-20 bg-red-600 hover:bg-red-700 text-white font-bold p-3 rounded-full shadow-lg flex items-center space-x-2 pointer-events-auto transition transform hover:scale-110">
        <i data-lucide="x" class="w-6 h-6"></i>
        <span class="text-sm hidden sm:inline">ปิด AR Mode</span>
    </button>

    <div id="error-message" class="hidden absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 bg-red-800 text-white p-6 rounded-xl shadow-2xl z-30 pointer-events-auto">
        <h3 class="text-xl font-bold mb-2">ไม่สามารถเปิดกล้องได้</h3>
        <p>โปรดตรวจสอบว่าคุณได้อนุญาตให้เว็บไซต์เข้าถึงกล้องแล้ว</p>
        <p class="text-sm mt-2">(คำเตือน: ฟังก์ชันกล้องต้องใช้การเชื่อมต่อแบบ **HTTPS**)</p>
        <button onclick="hideModal('error-message')" class="mt-4 bg-red-700 hover:bg-red-900 text-white font-bold py-2 px-4 rounded transition">รับทราบ</button>
    </div>
</div>


<script>
    // Initial load for icons
    lucide.createIcons(); 

    const homeSection = document.getElementById('home-section');
    const vrContainer = document.getElementById('vr-container');
    const cameraFeed = document.getElementById('camera-feed');
    const arMessage = document.getElementById('ar-message');
    const errorMessage = document.getElementById('error-message');
    let stream = null; // เก็บ stream ของกล้องไว้สำหรับหยุดการทำงาน
    let qrCodeInstance = null; // เก็บ instance ของ QRCode

    // ฟังก์ชันเปิด Modal
    window.showModal = function(id) {
        document.getElementById(id).classList.remove('hidden');
        lucide.createIcons(); // อัปเดตไอคอนใน Modal
        
        // ตรวจสอบว่า Modal ที่เปิดคือ Modal ติดตั้ง/QR
        if (id === 'install-qr-modal') {
            generateQRCodeForApp();
        }
    }

    // ฟังก์ชันปิด Modal
    window.hideModal = function(id) {
        document.getElementById(id).classList.add('hidden');
    }

    // ฟังก์ชันหลักในการสร้าง QR Code
    function generateQRCodeForApp() {
        // ใช้ URL ปัจจุบันของหน้าเว็บ (เมื่อนำไปโฮสต์จริง ลิงก์นี้จะถูกต้อง)
        const url = window.location.href; 
        const qrcodeDisplay = document.getElementById('qrcode-display');

        // ถ้ามี instance เก่าอยู่ ให้เคลียร์ก่อนสร้างใหม่
        if (qrcodeDisplay.firstChild && qrcodeDisplay.firstChild.tagName === 'CANVAS') {
            qrcodeDisplay.removeChild(qrcodeDisplay.firstChild);
        }
        if (qrcodeDisplay.firstChild && qrcodeDisplay.firstChild.tagName === 'IMG') {
            qrcodeDisplay.removeChild(qrcodeDisplay.firstChild);
        }
        
        // สร้าง instance ใหม่ทุกครั้งเพื่อให้แน่ใจว่า QR Code ถูกสร้างอย่างถูกต้อง
        qrCodeInstance = new QRCode(qrcodeDisplay, {
            text: url,
            width: 200,
            height: 200,
            colorDark: "#3730A3", // Indigo 800
            colorLight: "#ffffff",
            correctLevel: QRCode.CorrectLevel.H
        });
        
        // อัปเดตไอคอนภายใน Modal ที่เพิ่งเปิด
        lucide.createIcons();
    }

    // ฟังก์ชันสำหรับดาวน์โหลด QR Code เป็นไฟล์ PNG
    window.downloadQRCode = function() {
        const qrcodeDisplay = document.getElementById('qrcode-display');
        
        // QR Code สร้างด้วย qrcode.js จะเป็น <canvas> หรือ <img>
        const canvas = qrcodeDisplay.querySelector('canvas');
        const img = qrcodeDisplay.querySelector('img');
        
        let dataUrl;
        
        if (canvas) {
            dataUrl = canvas.toDataURL("image/png");
        } else if (img) {
            // ในบางเบราว์เซอร์ qrcode.js อาจสร้างเป็น <img>
            dataUrl = img.src; 
        }

        if (dataUrl) {
            const link = document.createElement('a');
            link.href = dataUrl;
            link.download = `srtc_vr_navigation_qrcode.png`;
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
        } else {
            console.error("QR Code image not found.");
            // ใช้กล่องข้อความแทน alert()
            document.getElementById('ar-message').innerHTML = '<p>เกิดข้อผิดพลาดในการดาวน์โหลด QR Code</p>';
            document.getElementById('ar-message').classList.remove('hidden', 'bg-green-500');
            document.getElementById('ar-message').classList.add('opacity-100', 'bg-red-500');
            setTimeout(() => {
                document.getElementById('ar-message').classList.add('hidden', 'opacity-0');
            }, 3000);
        }
    }


    // ฟังก์ชันสำหรับเริ่มต้นการทำงานของกล้อง
    async function startCamera() {
        // ซ่อนข้อความข้อผิดพลาดและแสดงข้อความสถานะ
        errorMessage.classList.add('hidden');
        arMessage.classList.remove('hidden');
        arMessage.classList.add('opacity-100');
        arMessage.classList.remove('bg-green-500');
        arMessage.classList.add('bg-yellow-400');
        arMessage.innerHTML = '<p>กำลังรอการอนุญาตเข้าถึงกล้อง...</p>';

        // เพิ่ม playsinline สำหรับ iOS เพื่อให้วิดีโอเล่นได้ในหน้าต่าง
        cameraFeed.setAttribute('playsinline', true);

        // กำหนดให้ใช้กล้องหลัง (environment) หากมี
        const constraints = { video: { facingMode: 'environment' } };

        try {
            // ขออนุญาตเข้าถึงกล้อง
            stream = await navigator.mediaDevices.getUserMedia(constraints);
            cameraFeed.srcObject = stream;
            // ต้องเรียก play() หลังจากตั้งค่า srcObject
            cameraFeed.play();
            
            // แสดงข้อความสถานะ AR เมื่อกล้องพร้อม
            setTimeout(() => {
                arMessage.innerHTML = '<p>ตำแหน่งถูกล็อค! พร้อมนำทาง</p>';
                arMessage.classList.remove('bg-yellow-400');
                arMessage.classList.add('bg-green-500'); 
            }, 1500);
            
        } catch (err) {
            console.error("Error accessing camera: ", err);
            
            // ซ่อน AR Message และแสดง Error Modal
            arMessage.classList.add('hidden', 'opacity-0');
            errorMessage.classList.remove('hidden');
            
            // หยุดการทำงานของกล้องหากมีการเริ่มแล้ว
            stopCamera();
        }
    }

    // ฟังก์ชันสำหรับหยุดการทำงานของกล้อง
    function stopCamera() {
        if (stream) {
            stream.getTracks().forEach(track => track.stop());
            stream = null;
            cameraFeed.srcObject = null;
        }
        arMessage.classList.add('opacity-0');
        arMessage.classList.remove('bg-green-500');
        arMessage.classList.add('hidden');
    }

    // ฟังก์ชันสำหรับสลับโหมด VR/AR
    window.toggleVRMode = function() {
        const isVRActive = vrContainer.classList.contains('hidden');

        if (isVRActive) {
            // เปิด VR/AR Mode
            homeSection.classList.add('hidden');
            vrContainer.classList.remove('hidden');
            startCamera();
        } else {
            // กลับสู่ Home Mode
            stopCamera();
            homeSection.classList.remove('hidden');
            vrContainer.classList.add('hidden');
        }
        
        // อัปเดตไอคอนอีกครั้ง
        lucide.createIcons();
    }
    
    // ตั้งค่า AR Element ให้หมุนตามเวลาเพื่อจำลองการแสดงผล (เพื่อความสวยงามเท่านั้น)
    const arArrow = document.getElementById('ar-arrow');
    setInterval(() => {
        if (vrContainer && !vrContainer.classList.contains('hidden')) {
             // ตัวอย่างการหมุนจำลอง
             const randomRotation = Math.floor(Math.random() * 20) - 10;
             arArrow.style.transform = `rotate(${randomRotation}deg)`;
        }
    }, 2000);

</script>

</body>
</html>

